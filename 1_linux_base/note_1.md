1. 源文件(.c  .h  .cpp等)编译成可执行程序的过程
   - 预处理：头文件的展开，注释的删除，宏的展开
   - 编译：编译为汇编代码
   - 汇编：汇编为目标代码
   - 链接：得到可执行文件
2. gcc常用编译选项
   - -c  编译、汇编指定的源文件，但是不进行链接
   - -o  编译成可执行文件
   - -I directory   指定include包含文件的搜索目录
   - -l  在程序编译的时候，指定使用的库
   - -L  指定编译的时候，搜索的库的路径
   - -fPIC  生成与位置无关的代码
   - -shared  生成共享目标文件，通常在建立共享库时

3. 库文件有两种，**静态库和动态库**（共享库），区别是：静态库在程序的链接阶段被复制 到了程序中；动态库在链接阶段没有被复制到程序中，而是程序在运行时由系统动态加 载到内存中供程序调用。
4. 动态库优缺点
   - 可以实现进程间资源共享（共享库）；更新、部署、发布简单；可以控制何时加载动态库
   - 加载速度比静态库慢；发布程序时需要提供依赖的动态库
5. 静态库优缺点
   - 静态库被打包到应用程序中加载速度快；发布程序无需提供静态库，移植方便
   - 消耗系统资源，浪费内存；更新、部署、发布麻烦
6. 库的好处：1.代码保密 2.方便部署和分发
7. 静态库的制作
   - 命名规则：Linux下，libxxx.a，xxx是库的名字，自己起
   - gcc获得.o文件
   - 将.o文件打包：ar rcs libxxx.a xxx.o xxx.0

8. 动态库的制作

- 命名规则：Linux下，libxxx.so，xxx是库的名字，自己起
- gcc获得.o文件，得到和位置无关的代码  gcc -c -fPIC a.c b.c
- gcc得到动态库  gcc -shared a.o b.o -o libcalc.so

9. 通过ldd命令可以检查动态库的依赖关系，定位共享库文件可以在环境变量LD_LIBRARY中添加动态库绝对路径

10. Makefile编写
    
    ​		目标：依赖
    
    ​				命令

11. Makefile 中的其它规则一般都是为第一条规则服务的。
    - 命令在执行之前，需要先检查规则中的依赖是否存在
      - 如果存在，执行命令
      - 如果不存在，向下检查其它的规则，检查有没有一个规则是用来生成这个依赖的， 如果找到了，则执行该规则中的命令
    - 检测更新，在执行规则中的命令时，会比较目标和依赖文件的时间
      - 如果依赖的时间比目标的时间晚，需要重新生成目标
      - 如果依赖的时间比目标的时间早，目标不需要更新，对应规则中的命令不需要被 执行

12. 预定义变量： 
    - $@ : 目标的完整名称
    - $< : 第一个依赖文件的名称
    - $^ : 所有的依赖文件

13. %.o:%.c 
    - %: 通配符，匹配一个字符串 
    -  两个%匹配的是同一个字符串























































































